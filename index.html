<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a1a1a">
    <meta name="description" content="A 3D browser-based first-person shooter game built with Three.js">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="The Last Soldier">
    
    <title>Ng∆∞·ªùi L√≠nh Cu·ªëi</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="game-container"></div>
    
    <!-- UI Elements -->
    <div id="hud">
        <!-- Top Left -->
        <div class="hud-top-left">
            <button class="btn-exit" id="btn-exit">‚úï</button>
            <div class="minimap" id="minimap">
                <canvas id="minimap-canvas"></canvas>
                <div class="minimap-player" id="minimap-player"></div>
            </div>
            <button class="btn-chat" id="btn-chat">üí¨</button>
        </div>

        <!-- Top Center -->
        <div class="hud-top-center">
            <div class="health-bar red-bar" id="team-red-bar">
                <span class="score-value" id="team-red-score">100</span>
            </div>
            <div class="timer" id="timer">49:37</div>
            <div class="health-bar blue-bar" id="team-blue-bar">
                <span class="score-value" id="team-blue-score">100</span>
            </div>
        </div>

        <!-- Top Right -->
        <div class="hud-top-right">
            <div class="weapon-icon" id="weapon-icon"></div>
            <div class="ammo-count" id="ammo-count">
                <span id="ammo-current">4</span>
                <span id="ammo-separator">/</span>
                <span id="ammo-reserve">54</span>
            </div>
            <div class="health-bar red-bar" id="player-health-bar">
                <span class="health-value" id="player-health">100 +</span>
            </div>
        </div>

        <!-- Bottom Left - Movement Controls -->
        <div class="hud-bottom-left">
            <div class="joystick-container" id="joystick-container">
                <div class="joystick" id="joystick"></div>
            </div>
        </div>

        <!-- Bottom Right - Action Controls -->
        <div class="hud-bottom-right">
            <button class="btn-action" id="btn-fire" title="Left Click">
                <span class="btn-icon">üéØ</span>
                <span class="btn-key">LMB</span>
            </button>
            <button class="btn-action" id="btn-aim" title="Right Click">
                <span class="btn-icon">üîç</span>
                <span class="btn-key">RMB</span>
            </button>
            <button class="btn-action" id="btn-reload" title="R Key">
                <span class="btn-icon">üîÑ</span>
                <span class="btn-key">R</span>
            </button>
            <button class="btn-action" id="btn-grenade" title="G Key">
                <span class="btn-icon">üí£</span>
                <span class="btn-key">G</span>
            </button>
            <button class="btn-action" id="btn-sprint" title="Shift Key">
                <span class="btn-icon">üèÉ</span>
                <span class="btn-key">SHIFT</span>
            </button>
            <button class="btn-action" id="btn-crouch" title="Ctrl Key">
                <span class="btn-icon">‚¨áÔ∏è</span>
                <span class="btn-key">CTRL</span>
            </button>
            <button class="btn-action" id="btn-jump" title="Space Key">
                <span class="btn-icon">‚¨ÜÔ∏è</span>
                <span class="btn-key">SPACE</span>
            </button>
        </div>

        <!-- Center Crosshair -->
        <div class="crosshair" id="crosshair"></div>
        
        <!-- Grenade Power Bar -->
        <div class="grenade-power-bar-container" id="grenade-power-bar-container">
            <div class="grenade-power-bar-label">Power</div>
            <div class="grenade-power-bar">
                <div class="grenade-power-bar-fill" id="grenade-power-bar-fill"></div>
            </div>
        </div>
        
        <!-- Deployment Notification -->
        <div class="deployment-notification" id="deployment-notification"></div>
    </div>

    <!-- Weapon Display -->
    <div class="weapon-display" id="weapon-display"></div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <h1>Ng∆∞·ªùi L√≠nh Cu·ªëi</h1>
            <div class="loading-bar">
                <div class="loading-progress" id="loading-progress"></div>
            </div>
            <p id="loading-text">ƒêang t·∫£i...</p>
        </div>
    </div>

    <!-- Menu Screens -->
    <!-- Main Menu -->
    <div id="screen-main-menu" class="menu-screen active">
        <div class="menu-background-3d" id="main-menu-background"></div>
        <div class="menu-background"></div>
        <div class="menu-content">
            <div class="menu-top-right">
                <div class="community-maps-thumbnail">
                    <div class="community-maps-image"></div>
                    <div class="community-maps-label">COMMUNITY MAPS</div>
                </div>
            </div>
            <div class="main-menu-options">
                <button id="menu-play" class="menu-option active">PLAY</button>
                <button id="menu-customize" class="menu-option">CUSTOMIZE</button>
                <button id="menu-settings" class="menu-option">SETTINGS</button>
                <button id="menu-about" class="menu-option">ABOUT</button>
            </div>
        </div>
    </div>

    <!-- Play Mode Selection -->
    <div id="screen-play-mode" class="menu-screen">
        <div class="menu-background"></div>
        <div class="menu-content">
            <button class="btn-back">‚Üê</button>
            <div class="play-mode-grid">
                <div class="play-mode-panel" id="play-mode-map-editor">
                    <div class="play-mode-preview" id="preview-map-editor"></div>
                    <h2>MAP EDITOR</h2>
                    <p>Make your own maps!</p>
                </div>
                <div class="play-mode-panel" id="play-mode-join-match">
                    <div class="play-mode-preview" id="preview-join-match"></div>
                    <h2>JOIN MATCH</h2>
                    <p>Join your friends game.</p>
                    <div class="ip-address">192.168.43.1:7777</div>
                </div>
                <div class="play-mode-panel" id="play-mode-online-match">
                    <div class="play-mode-preview" id="preview-online-match"></div>
                    <h2>ONLINE MATCH</h2>
                    <p>Find the game from the server browser.</p>
                </div>
                <div class="play-mode-panel active" id="play-mode-create-match">
                    <div class="play-mode-preview" id="preview-create-match"></div>
                    <h2>CREATE MATCH</h2>
                    <p>Make your own custom match to play over local network.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Battlefield Deploy -->
    <div id="screen-battlefield-deploy" class="menu-screen">
        <div class="menu-background"></div>
        <div class="menu-content">
            <div class="battlefield-top">
                <button class="btn-back">‚Üê</button>
                <button class="btn-chat-menu">üí¨</button>
                <div class="battlefield-scores">
                    <div class="team-score-battlefield">
                        <span class="score-value">100</span>
                        <span class="flag-icon">üá¨üáß</span>
                        <div class="score-bar red-bar"></div>
                    </div>
                    <div class="timer-battlefield">49:59</div>
                    <div class="team-score-battlefield">
                        <span class="flag-icon">üá©üá™</span>
                        <span class="score-value">100</span>
                        <div class="score-bar blue-bar"></div>
                    </div>
                </div>
                <div class="strategic-points">
                    <span class="point">A</span>
                    <span class="point">B</span>
                    <span class="point">C</span>
                    <span class="point">D</span>
                    <span class="point">E</span>
                </div>
            </div>
            <div class="battlefield-map">
                <canvas id="battlefield-canvas"></canvas>
            </div>
            <div class="battlefield-bottom">
                <div class="deploy-controls">
                    <div class="deploy-icons">
                        <div class="deploy-icon">‚≠ê</div>
                        <div class="deploy-icon">+</div>
                        <div class="deploy-icon">üá¨üáß</div>
                        <div class="deploy-icon">üö´</div>
                        <div class="deploy-icon">üöó</div>
                    </div>
                    <button id="btn-deploy" class="btn-deploy">DEPLOY</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Customize Screen -->
    <div id="screen-customize" class="menu-screen">
        <div class="menu-background"></div>
        <div class="menu-content">
            <button class="btn-back">‚Üê</button>
            <h1 class="screen-title">CUSTOMIZE</h1>
            <div class="customize-content">
                <div class="customize-left">
                    <div class="weapon-section active" data-section="primary">
                        <h3 class="weapon-section-header">PRIMARY</h3>
                        <div class="weapon-display-large">
                            <div class="weapon-silhouette" id="primary-display">·°ï·†µ„Éá·°Å·†ä‚ïæ‚îÅ</div>
                        </div>
                    </div>
                    <div class="weapon-section" data-section="secondary">
                        <h3 class="weapon-section-header">SECONDARY</h3>
                        <div class="weapon-display-large">
                            <div class="weapon-silhouette" id="secondary-display"> Ã∏Ã≥ÃîÃé‚ÄãÃéÃé ÃøÃøÃÖÃÖ/ ÃîÃÖÃÖ ÃøÃø ÃøÃø Ãø ÃøÃø ÃøÃøÃÖÃÖ ÃøÃø</div>
                        </div>
                    </div>
                    <div class="weapon-section" data-section="gadget">
                        <h3 class="weapon-section-header">GADGET</h3>
                        <div class="weapon-display-large">
                            <div class="weapon-silhouette" id="gadget-display">‚ñ¨ŒπìÜÉ</div>
                        </div>
                    </div>
                </div>
                <div class="customize-right">
                    <div class="item-detail-view" id="item-detail-view">
                        <div class="detail-placeholder">Select a category to view options</div>
                    </div>
                </div>
            </div>
            <div class="customize-bottom">
                <input type="text" id="player-name-input" class="player-name-input" placeholder="player name..." value="player name...">
            </div>
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="screen-settings" class="menu-screen">
        <div class="menu-background"></div>
        <div class="menu-content settings-content">
            <button class="btn-back">‚Üê</button>
            <h1 class="screen-title">SETTINGS</h1>
            <div class="settings-grid">
                <div class="settings-row">
                    <div class="settings-item">
                        <label>MUSIC</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="music" min="0" max="100" value="100">
                            <span class="settings-value" data-display="music">100%</span>
                        </div>
                    </div>
                    <div class="settings-item">
                        <label>GAME</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="game" min="0" max="100" value="100">
                            <span class="settings-value" data-display="game">100%</span>
                        </div>
                    </div>
                </div>
                <div class="settings-row">
                    <div class="settings-item">
                        <label>GRAPHICS</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="graphics" min="0" max="100" value="50">
                            <span class="settings-value" data-display="graphics">MED</span>
                        </div>
                    </div>
                    <div class="settings-item">
                        <label>RESOLUTION</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="resolution" min="0" max="100" value="80">
                            <span class="settings-value" data-display="resolution">80%</span>
                        </div>
                    </div>
                </div>
                <div class="settings-row">
                    <div class="settings-item">
                        <label>REAL-TIME SHADOWS</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="realTimeShadows">
                    </div>
                    <div class="settings-item">
                        <label>BAKE SHADOWS</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="bakeShadows">
                    </div>
                    <div class="settings-item">
                        <label>FRAME RATE</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="frameRate" min="30" max="120" value="60" step="30">
                            <span class="settings-value" data-display="frameRate">60 FPS</span>
                        </div>
                    </div>
                    <div class="settings-item">
                        <label>SHOW FPS</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="showFPS">
                    </div>
                    <div class="settings-item">
                        <label>SHOW CHAT</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="showChat">
                    </div>
                </div>
                <div class="settings-row">
                    <div class="settings-item">
                        <label>BLOOM</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="bloom">
                    </div>
                    <div class="settings-item">
                        <label>MOTION BLUR</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="motionBlur">
                    </div>
                    <div class="settings-item">
                        <label>FISHEYE LENS</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="fisheyeLens">
                    </div>
                    <div class="settings-item">
                        <label>FILM GRAIN</label>
                        <input type="checkbox" class="settings-checkbox" data-setting="filmGrain" checked>
                    </div>
                </div>
                <div class="settings-row">
                    <div class="settings-item">
                        <label>GYRO LOOK</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="gyroLook" min="0" max="100" value="0">
                            <span class="settings-value" data-display="gyroLook">0%</span>
                        </div>
                    </div>
                    <div class="settings-item">
                        <label>GYRO ADS</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="gyroADS" min="0" max="100" value="0">
                            <span class="settings-value" data-display="gyroADS">0%</span>
                        </div>
                    </div>
                </div>
                <div class="settings-row">
                    <div class="settings-item">
                        <label>LOOK SENSITIVITY</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="lookSensitivity" min="0" max="100" value="50">
                            <span class="settings-value" data-display="lookSensitivity">50%</span>
                        </div>
                    </div>
                    <div class="settings-item">
                        <label>ADS SENS</label>
                        <div class="settings-control">
                            <input type="range" class="settings-slider" data-setting="adsSens" min="0" max="100" value="25">
                            <span class="settings-value" data-display="adsSens">25%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Screen -->
    <div id="screen-about" class="menu-screen">
        <div class="menu-background"></div>
        <div class="menu-content about-content">
            <button class="btn-back">‚Üê</button>
            <div class="about-text">
                <div class="about-version">0.7.2</div>
                <div class="about-engine">Unity 2022.3.62f2</div>
                <div class="about-section">
                    <h2>Credits:</h2>
                    <p><strong>Game By:</strong> Mohammad Alizadeh</p>
                </div>
                <div class="about-section">
                    <h2>Special Thanks:</h2>
                    <p>Infini_</p>
                    <p>VIC</p>
                    <p>Exi</p>
                </div>
                <div class="about-section">
                    <h2>Sound Design:</h2>
                    <p>Haven Kendrick</p>
                    <p>Study-Sound-Girl</p>
                    <p>The Relaxed Guy</p>
                </div>
                <div class="about-section">
                    <h2>Music:</h2>
                    <p>Jingle Punks</p>
                    <p>For You King</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="importmap">
    {
        "imports": {
            "three": "./lib/three/build/three.module.js",
            "three/addons/": "./lib/three/examples/jsm/",
            "three/addons/libs/stats.module.js": "./lib/three/examples/jsm/libs/stats.module.js"
        }
    }
    </script>
    
    <script type="module" src="src/main.js"></script>
    
    <!-- Version Info -->
    <div style="position: fixed; bottom: 10px; right: 10px; font-size: 12px; color: rgba(255, 255, 255, 0.6); font-family: Arial, sans-serif; z-index: 10000;">
        version: 1.2
    </div>
</body>
</html>

